{"remainingRequest":"E:\\OMROM\\aiweijie\\aiweijie\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\OMROM\\aiweijie\\aiweijie\\src\\Pages\\BrushTeethModel\\BrushTeethModel.vue?vue&type=style&index=0&id=197dd3f3&lang=less&scoped=true&","dependencies":[{"path":"E:\\OMROM\\aiweijie\\aiweijie\\src\\Pages\\BrushTeethModel\\BrushTeethModel.vue","mtime":1616635982840},{"path":"E:\\OMROM\\aiweijie\\aiweijie\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\OMROM\\aiweijie\\aiweijie\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"E:\\OMROM\\aiweijie\\aiweijie\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"E:\\OMROM\\aiweijie\\aiweijie\\node_modules\\less-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\OMROM\\aiweijie\\aiweijie\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\OMROM\\aiweijie\\aiweijie\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoNCi5icnVzaFRlZXRoTW9kZWwgew0KICAgIGhlaWdodDogMTAwJTsNCiAgICB3aWR0aDogMTAwJTsNCiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmOw0KICAgIGRpc3BsYXk6IGZsZXg7DQogICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsNCiAgICBwb3NpdGlvbjogcmVsYXRpdmU7DQogICAgLm1vZHVsZXMgew0KICAgICAgICBwYWRkaW5nOiAwIDE2cHg7DQogICAgICAgIC5tb2R1bGVzX2lubmVyIHsNCiAgICAgICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsNCiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmY7DQogICAgICAgICAgICBoZWlnaHQ6IDQ4cHg7DQogICAgICAgICAgICB3aWR0aDogMTAwJTsNCiAgICAgICAgICAgIC8vbWFyZ2luOiAwIDAgOHB4IDA7DQogICAgICAgICAgICBmb250LXNpemU6IDE2cHg7DQogICAgICAgICAgICBjb2xvcjogcmdiYSgwLCAwLCAwLCAwLjkpOw0KICAgICAgICAgICAgYm9yZGVyLWJvdHRvbTogMC4wMDY5NHJlbSBzb2xpZCByZ2JhKDAsIDAsIDAsIDAuMik7DQogICAgICAgICAgICAuVlN3aXRjaCB7DQogICAgICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlOw0KICAgICAgICAgICAgICAgIHJpZ2h0OiAwcHg7DQogICAgICAgICAgICB9DQogICAgICAgICAgICAubW9kdWxlX3JvdW5kIHsNCiAgICAgICAgICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7DQogICAgICAgICAgICAgICAgd2lkdGg6IDI0cHg7DQogICAgICAgICAgICAgICAgaGVpZ2h0OiAyNHB4Ow0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgLm1vZHVsZV9uYW1lIHsNCiAgICAgICAgICAgICAgICBsaW5lLWhlaWdodDogMjBweDsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIC5sb2NrVGlwIHsNCiAgICAgICAgICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7DQogICAgICAgICAgICAgICAgd2lkdGg6IDEwMCU7DQogICAgICAgICAgICAgICAgcGFkZGluZzogMCA0MHB4IDAgMDsNCiAgICAgICAgICAgICAgICBmb250LXNpemU6IDE0cHg7DQogICAgICAgICAgICAgICAgY29sb3I6IHJnYmEoMCwgMCwgMCwgMC42KTsNCiAgICAgICAgICAgICAgICBtYXJnaW46IDZweCAwIDAgMDsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICAubm9Cb3JkZXIgew0KICAgICAgICAgICAgaGVpZ2h0OiA2NHB4Ow0KICAgICAgICAgICAgYm9yZGVyOiAwOw0KICAgICAgICB9DQogICAgfQ0KICAgIC5tb2R1bGVfbm9jbGljayB7DQogICAgICAgIHBvaW50ZXItZXZlbnRzOiBub25lOw0KICAgIH0NCn0NCg0KLmZsZXggew0KICAgIGRpc3BsYXk6IGZsZXg7DQogICAgZmxleC1kaXJlY3Rpb246IHJvdzsNCiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47DQogICAgYWxpZ24taXRlbXM6IGNlbnRlcjsNCn0NCi5mbGV4X2Mgew0KICAgIGRpc3BsYXk6IGZsZXg7DQogICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsNCiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47DQp9DQoNCi50aGVtZS1kYXJrIHsNCiAgICAuYnJ1c2hUZWV0aE1vZGVsIHsNCiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzAwMDsNCiAgICAgICAgLm1vZHVsZXMgew0KICAgICAgICAgICAgLm1vZHVsZXNfaW5uZXIgew0KICAgICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICMwMDA7DQogICAgICAgICAgICAgICAgY29sb3I6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC44Nik7DQogICAgICAgICAgICAgICAgYm9yZGVyLWJvdHRvbTogMC4wMDY5NHJlbSBzb2xpZCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMik7DQogICAgICAgICAgICAgICAgLmxvY2tUaXAgew0KICAgICAgICAgICAgICAgICAgICBjb2xvcjogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjYpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIC5ub0JvcmRlciB7DQogICAgICAgICAgICAgICAgYm9yZGVyOiAwOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfQ0KfQ0K"},{"version":3,"sources":["BrushTeethModel.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"BrushTeethModel.vue","sourceRoot":"src/Pages/BrushTeethModel","sourcesContent":["<!--\r\n * @Description: 刷牙模式\r\n * @version: \r\n * @LastEditors: HeZhen\r\n * @LastEditTime: 2021-02-03 16:53:25\r\n\r\n-->\r\n<template>\r\n    <div class=\"brushTeethModel\">\r\n        <!-- 头部start -->\r\n        <Header :isRight=\"headerIcon\" :backC='backC' :selfB='selfB'>\r\n            <template slot=\"headerTitle\">{{$t('BrushTeethModel.header')}}</template>\r\n        </Header>\r\n        <!-- 头部end -->\r\n\r\n        <!-- 模式start -->\r\n        <div class=\"modules\">\r\n            <div :class=\" isLock ? 'modules_inner flex module_noclick' : 'modules_inner flex'\" v-for=\"(item,index) in modules\" :key=\"index\">\r\n                <span class=\"module_name\">{{item.name}}</span>\r\n                <span class=\"module_round\">\r\n                    <Round :status=\"item.check\" @changeStatus=\"getRoundStatus(index,arguments)\"></Round>\r\n                </span>\r\n            </div>\r\n            <div class=\"flex modules_inner noBorder\">\r\n                <div class=\"flex_c\">\r\n                    <span class=\"module_name\">{{$t('BrushTeethModel.lockBtn')}}</span>\r\n                    <span class=\"module_name lockTip\">{{$t('BrushTeethModel.lockTip')}}</span>\r\n                </div>\r\n                <span class=\"VSwitch\">\r\n                    <VSwitch :isOn=\"isLock\" @afterChange='afterChange'></VSwitch>\r\n                </span>\r\n            </div>\r\n        </div>\r\n        <!-- 模式end -->\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport g from \"../../Util/global\";\r\nimport { scale } from \"../../Util/tool\";\r\nimport animate from \"animate.css\";\r\nexport default {\r\n    props: {},\r\n    name: \"BrushTeethModel\",\r\n    data() {\r\n        return {\r\n            boothData: null,\r\n            // 头部组件参数\r\n            selfB: true,\r\n            backC: window.isDark ? '#000' : 'fff',\r\n            headerIcon: false,\r\n            // 模式数组\r\n            modules: [\r\n                {\r\n                    name: this.$t(\"BrushTeethModel.model.level1\"),\r\n                    check: false,\r\n                    gear: 0,\r\n                },\r\n                {\r\n                    name: this.$t(\"BrushTeethModel.model.level2\"),\r\n                    check: false,\r\n                    gear: 2,\r\n                },\r\n            ],\r\n            // 档位锁定\r\n            isLock: false,\r\n            flash: false,\r\n        };\r\n    },\r\n    watch: {\r\n        modules: {\r\n            deep: true,\r\n            handler: (n, o) => { },\r\n        },\r\n        bleConnected(n, o) { },\r\n        binData(n, o) {\r\n            this.machineContorling = true;\r\n            if (n.substr(0, 6) != o.substr(0, 6)) {\r\n                this.initData(this.binData)\r\n            }\r\n        }\r\n    },\r\n    computed: {\r\n        bleConnected() {\r\n            return this.$store.state.BleStatus.bleConnected;\r\n        },\r\n        binData() {\r\n            return this.$store.state.BleStatus.binData;\r\n        }\r\n    },\r\n    created() {\r\n    },\r\n    mounted() {\r\n        this.initData(this.binData)\r\n    },\r\n    methods: {\r\n        /**\r\n         * @description: 初始化页面 data: 56 04 02 2f 35\r\n         * @param {*}\r\n         * @return {*}\r\n         */\r\n        initData(data) {\r\n            let modedata = data.substr(4, 2); // 16进制\r\n            modedata = scale.hextoBin(modedata); // 转二进制\r\n            let openStatue = modedata.substr(0, 2); // 刷牙模式\r\n            if (parseInt(openStatue) === 0) {\r\n                this.modules[0].check = true;\r\n                this.modules[1].check = false;\r\n            } else {\r\n                this.modules[0].check = false;\r\n                this.modules[1].check = true;\r\n            }\r\n            this.isLock = modedata.substr(2, 1) === \"0\" ? false : true;\r\n        },\r\n\r\n        /**\r\n         * @description: Round组件的派发动作\r\n         * @param {type}\r\n         * @return {type}\r\n         */\r\n        getRoundStatus() {\r\n            g.removeVideoPlay()\r\n            let arg = arguments;\r\n            if (!arg[1][0]) {\r\n                return true;\r\n            }\r\n            this.modules.forEach((item, index) => {\r\n                index == arg[0] ? (item.check = true) : (item.check = false);\r\n                if (index == arg[0]) {\r\n                    let newBinCode = item.gear == 0 ? \"00\" : \"01\";\r\n                    let srcData = scale.hextoBin(this.binData.substr(4, 2));\r\n                    let data = scale.checkData(0, newBinCode, srcData);\r\n                    g.setQueue(data);\r\n                }\r\n            });\r\n            setTimeout(() => {\r\n                g.onVideoPlay()\r\n            }, 1500);\r\n        },\r\n\r\n        /**\r\n         * @description: 点击锁定按钮\r\n         * @param {*}\r\n         * @return {*}\r\n         */\r\n        afterChange(val) {\r\n            g.removeVideoPlay()\r\n            this.t = new Date().getTime()\r\n            let _ = this;\r\n            this.isLock = val;\r\n            let lock = \"1\"; // 1 表示锁定\r\n            lock = this.isLock ? \"1\" : \"0\";\r\n            let srcData = scale.hextoBin(this.binData.substr(4, 2)); // byte2 01010110 01111110\r\n            let data = scale.checkData(2, lock, srcData);\r\n            g.setQueue(data)\r\n            setTimeout(() => {\r\n                g.onVideoPlay()\r\n            }, 1500);\r\n        },\r\n    },\r\n};\r\n</script>\r\n\r\n\r\n<style lang='less' scoped>\r\n.brushTeethModel {\r\n    height: 100%;\r\n    width: 100%;\r\n    background-color: #fff;\r\n    display: flex;\r\n    flex-direction: column;\r\n    position: relative;\r\n    .modules {\r\n        padding: 0 16px;\r\n        .modules_inner {\r\n            position: relative;\r\n            background-color: #fff;\r\n            height: 48px;\r\n            width: 100%;\r\n            //margin: 0 0 8px 0;\r\n            font-size: 16px;\r\n            color: rgba(0, 0, 0, 0.9);\r\n            border-bottom: 0.00694rem solid rgba(0, 0, 0, 0.2);\r\n            .VSwitch {\r\n                position: absolute;\r\n                right: 0px;\r\n            }\r\n            .module_round {\r\n                display: inline-block;\r\n                width: 24px;\r\n                height: 24px;\r\n            }\r\n            .module_name {\r\n                line-height: 20px;\r\n            }\r\n            .lockTip {\r\n                display: inline-block;\r\n                width: 100%;\r\n                padding: 0 40px 0 0;\r\n                font-size: 14px;\r\n                color: rgba(0, 0, 0, 0.6);\r\n                margin: 6px 0 0 0;\r\n            }\r\n        }\r\n        .noBorder {\r\n            height: 64px;\r\n            border: 0;\r\n        }\r\n    }\r\n    .module_noclick {\r\n        pointer-events: none;\r\n    }\r\n}\r\n\r\n.flex {\r\n    display: flex;\r\n    flex-direction: row;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n}\r\n.flex_c {\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: space-between;\r\n}\r\n\r\n.theme-dark {\r\n    .brushTeethModel {\r\n        background-color: #000;\r\n        .modules {\r\n            .modules_inner {\r\n                background-color: #000;\r\n                color: rgba(255, 255, 255, 0.86);\r\n                border-bottom: 0.00694rem solid rgba(255, 255, 255, 0.2);\r\n                .lockTip {\r\n                    color: rgba(255, 255, 255, 0.6);\r\n                }\r\n            }\r\n            .noBorder {\r\n                border: 0;\r\n            }\r\n        }\r\n    }\r\n}\r\n</style>"]}]}