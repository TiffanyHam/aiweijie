{"remainingRequest":"E:\\OMROM\\aiweijie\\aiweijie\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\OMROM\\aiweijie\\aiweijie\\src\\Pages\\BrushTeethModel\\BrushTeethModel.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\OMROM\\aiweijie\\aiweijie\\src\\Pages\\BrushTeethModel\\BrushTeethModel.vue","mtime":1616635982840},{"path":"E:\\OMROM\\aiweijie\\aiweijie\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\OMROM\\aiweijie\\aiweijie\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\OMROM\\aiweijie\\aiweijie\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\OMROM\\aiweijie\\aiweijie\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgZyBmcm9tICIuLi8uLi9VdGlsL2dsb2JhbCI7DQppbXBvcnQgeyBzY2FsZSB9IGZyb20gIi4uLy4uL1V0aWwvdG9vbCI7DQppbXBvcnQgYW5pbWF0ZSBmcm9tICJhbmltYXRlLmNzcyI7DQpleHBvcnQgZGVmYXVsdCB7DQogICAgcHJvcHM6IHt9LA0KICAgIG5hbWU6ICJCcnVzaFRlZXRoTW9kZWwiLA0KICAgIGRhdGEoKSB7DQogICAgICAgIHJldHVybiB7DQogICAgICAgICAgICBib290aERhdGE6IG51bGwsDQogICAgICAgICAgICAvLyDlpLTpg6jnu4Tku7blj4LmlbANCiAgICAgICAgICAgIHNlbGZCOiB0cnVlLA0KICAgICAgICAgICAgYmFja0M6IHdpbmRvdy5pc0RhcmsgPyAnIzAwMCcgOiAnZmZmJywNCiAgICAgICAgICAgIGhlYWRlckljb246IGZhbHNlLA0KICAgICAgICAgICAgLy8g5qih5byP5pWw57uEDQogICAgICAgICAgICBtb2R1bGVzOiBbDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICBuYW1lOiB0aGlzLiR0KCJCcnVzaFRlZXRoTW9kZWwubW9kZWwubGV2ZWwxIiksDQogICAgICAgICAgICAgICAgICAgIGNoZWNrOiBmYWxzZSwNCiAgICAgICAgICAgICAgICAgICAgZ2VhcjogMCwNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgbmFtZTogdGhpcy4kdCgiQnJ1c2hUZWV0aE1vZGVsLm1vZGVsLmxldmVsMiIpLA0KICAgICAgICAgICAgICAgICAgICBjaGVjazogZmFsc2UsDQogICAgICAgICAgICAgICAgICAgIGdlYXI6IDIsDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIF0sDQogICAgICAgICAgICAvLyDmoaPkvY3plIHlrpoNCiAgICAgICAgICAgIGlzTG9jazogZmFsc2UsDQogICAgICAgICAgICBmbGFzaDogZmFsc2UsDQogICAgICAgIH07DQogICAgfSwNCiAgICB3YXRjaDogew0KICAgICAgICBtb2R1bGVzOiB7DQogICAgICAgICAgICBkZWVwOiB0cnVlLA0KICAgICAgICAgICAgaGFuZGxlcjogKG4sIG8pID0+IHsgfSwNCiAgICAgICAgfSwNCiAgICAgICAgYmxlQ29ubmVjdGVkKG4sIG8pIHsgfSwNCiAgICAgICAgYmluRGF0YShuLCBvKSB7DQogICAgICAgICAgICB0aGlzLm1hY2hpbmVDb250b3JsaW5nID0gdHJ1ZTsNCiAgICAgICAgICAgIGlmIChuLnN1YnN0cigwLCA2KSAhPSBvLnN1YnN0cigwLCA2KSkgew0KICAgICAgICAgICAgICAgIHRoaXMuaW5pdERhdGEodGhpcy5iaW5EYXRhKQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfSwNCiAgICBjb21wdXRlZDogew0KICAgICAgICBibGVDb25uZWN0ZWQoKSB7DQogICAgICAgICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUuQmxlU3RhdHVzLmJsZUNvbm5lY3RlZDsNCiAgICAgICAgfSwNCiAgICAgICAgYmluRGF0YSgpIHsNCiAgICAgICAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5CbGVTdGF0dXMuYmluRGF0YTsNCiAgICAgICAgfQ0KICAgIH0sDQogICAgY3JlYXRlZCgpIHsNCiAgICB9LA0KICAgIG1vdW50ZWQoKSB7DQogICAgICAgIHRoaXMuaW5pdERhdGEodGhpcy5iaW5EYXRhKQ0KICAgIH0sDQogICAgbWV0aG9kczogew0KICAgICAgICAvKioNCiAgICAgICAgICogQGRlc2NyaXB0aW9uOiDliJ3lp4vljJbpobXpnaIgZGF0YTogNTYgMDQgMDIgMmYgMzUNCiAgICAgICAgICogQHBhcmFtIHsqfQ0KICAgICAgICAgKiBAcmV0dXJuIHsqfQ0KICAgICAgICAgKi8NCiAgICAgICAgaW5pdERhdGEoZGF0YSkgew0KICAgICAgICAgICAgbGV0IG1vZGVkYXRhID0gZGF0YS5zdWJzdHIoNCwgMik7IC8vIDE26L+b5Yi2DQogICAgICAgICAgICBtb2RlZGF0YSA9IHNjYWxlLmhleHRvQmluKG1vZGVkYXRhKTsgLy8g6L2s5LqM6L+b5Yi2DQogICAgICAgICAgICBsZXQgb3BlblN0YXR1ZSA9IG1vZGVkYXRhLnN1YnN0cigwLCAyKTsgLy8g5Yi354mZ5qih5byPDQogICAgICAgICAgICBpZiAocGFyc2VJbnQob3BlblN0YXR1ZSkgPT09IDApIHsNCiAgICAgICAgICAgICAgICB0aGlzLm1vZHVsZXNbMF0uY2hlY2sgPSB0cnVlOw0KICAgICAgICAgICAgICAgIHRoaXMubW9kdWxlc1sxXS5jaGVjayA9IGZhbHNlOw0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICB0aGlzLm1vZHVsZXNbMF0uY2hlY2sgPSBmYWxzZTsNCiAgICAgICAgICAgICAgICB0aGlzLm1vZHVsZXNbMV0uY2hlY2sgPSB0cnVlOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgdGhpcy5pc0xvY2sgPSBtb2RlZGF0YS5zdWJzdHIoMiwgMSkgPT09ICIwIiA/IGZhbHNlIDogdHJ1ZTsNCiAgICAgICAgfSwNCg0KICAgICAgICAvKioNCiAgICAgICAgICogQGRlc2NyaXB0aW9uOiBSb3VuZOe7hOS7tueahOa0vuWPkeWKqOS9nA0KICAgICAgICAgKiBAcGFyYW0ge3R5cGV9DQogICAgICAgICAqIEByZXR1cm4ge3R5cGV9DQogICAgICAgICAqLw0KICAgICAgICBnZXRSb3VuZFN0YXR1cygpIHsNCiAgICAgICAgICAgIGcucmVtb3ZlVmlkZW9QbGF5KCkNCiAgICAgICAgICAgIGxldCBhcmcgPSBhcmd1bWVudHM7DQogICAgICAgICAgICBpZiAoIWFyZ1sxXVswXSkgew0KICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgdGhpcy5tb2R1bGVzLmZvckVhY2goKGl0ZW0sIGluZGV4KSA9PiB7DQogICAgICAgICAgICAgICAgaW5kZXggPT0gYXJnWzBdID8gKGl0ZW0uY2hlY2sgPSB0cnVlKSA6IChpdGVtLmNoZWNrID0gZmFsc2UpOw0KICAgICAgICAgICAgICAgIGlmIChpbmRleCA9PSBhcmdbMF0pIHsNCiAgICAgICAgICAgICAgICAgICAgbGV0IG5ld0JpbkNvZGUgPSBpdGVtLmdlYXIgPT0gMCA/ICIwMCIgOiAiMDEiOw0KICAgICAgICAgICAgICAgICAgICBsZXQgc3JjRGF0YSA9IHNjYWxlLmhleHRvQmluKHRoaXMuYmluRGF0YS5zdWJzdHIoNCwgMikpOw0KICAgICAgICAgICAgICAgICAgICBsZXQgZGF0YSA9IHNjYWxlLmNoZWNrRGF0YSgwLCBuZXdCaW5Db2RlLCBzcmNEYXRhKTsNCiAgICAgICAgICAgICAgICAgICAgZy5zZXRRdWV1ZShkYXRhKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gew0KICAgICAgICAgICAgICAgIGcub25WaWRlb1BsYXkoKQ0KICAgICAgICAgICAgfSwgMTUwMCk7DQogICAgICAgIH0sDQoNCiAgICAgICAgLyoqDQogICAgICAgICAqIEBkZXNjcmlwdGlvbjog54K55Ye76ZSB5a6a5oyJ6ZKuDQogICAgICAgICAqIEBwYXJhbSB7Kn0NCiAgICAgICAgICogQHJldHVybiB7Kn0NCiAgICAgICAgICovDQogICAgICAgIGFmdGVyQ2hhbmdlKHZhbCkgew0KICAgICAgICAgICAgZy5yZW1vdmVWaWRlb1BsYXkoKQ0KICAgICAgICAgICAgdGhpcy50ID0gbmV3IERhdGUoKS5nZXRUaW1lKCkNCiAgICAgICAgICAgIGxldCBfID0gdGhpczsNCiAgICAgICAgICAgIHRoaXMuaXNMb2NrID0gdmFsOw0KICAgICAgICAgICAgbGV0IGxvY2sgPSAiMSI7IC8vIDEg6KGo56S66ZSB5a6aDQogICAgICAgICAgICBsb2NrID0gdGhpcy5pc0xvY2sgPyAiMSIgOiAiMCI7DQogICAgICAgICAgICBsZXQgc3JjRGF0YSA9IHNjYWxlLmhleHRvQmluKHRoaXMuYmluRGF0YS5zdWJzdHIoNCwgMikpOyAvLyBieXRlMiAwMTAxMDExMCAwMTExMTExMA0KICAgICAgICAgICAgbGV0IGRhdGEgPSBzY2FsZS5jaGVja0RhdGEoMiwgbG9jaywgc3JjRGF0YSk7DQogICAgICAgICAgICBnLnNldFF1ZXVlKGRhdGEpDQogICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsNCiAgICAgICAgICAgICAgICBnLm9uVmlkZW9QbGF5KCkNCiAgICAgICAgICAgIH0sIDE1MDApOw0KICAgICAgICB9LA0KICAgIH0sDQp9Ow0K"},{"version":3,"sources":["BrushTeethModel.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"BrushTeethModel.vue","sourceRoot":"src/Pages/BrushTeethModel","sourcesContent":["<!--\r\n * @Description: 刷牙模式\r\n * @version: \r\n * @LastEditors: HeZhen\r\n * @LastEditTime: 2021-02-03 16:53:25\r\n\r\n-->\r\n<template>\r\n    <div class=\"brushTeethModel\">\r\n        <!-- 头部start -->\r\n        <Header :isRight=\"headerIcon\" :backC='backC' :selfB='selfB'>\r\n            <template slot=\"headerTitle\">{{$t('BrushTeethModel.header')}}</template>\r\n        </Header>\r\n        <!-- 头部end -->\r\n\r\n        <!-- 模式start -->\r\n        <div class=\"modules\">\r\n            <div :class=\" isLock ? 'modules_inner flex module_noclick' : 'modules_inner flex'\" v-for=\"(item,index) in modules\" :key=\"index\">\r\n                <span class=\"module_name\">{{item.name}}</span>\r\n                <span class=\"module_round\">\r\n                    <Round :status=\"item.check\" @changeStatus=\"getRoundStatus(index,arguments)\"></Round>\r\n                </span>\r\n            </div>\r\n            <div class=\"flex modules_inner noBorder\">\r\n                <div class=\"flex_c\">\r\n                    <span class=\"module_name\">{{$t('BrushTeethModel.lockBtn')}}</span>\r\n                    <span class=\"module_name lockTip\">{{$t('BrushTeethModel.lockTip')}}</span>\r\n                </div>\r\n                <span class=\"VSwitch\">\r\n                    <VSwitch :isOn=\"isLock\" @afterChange='afterChange'></VSwitch>\r\n                </span>\r\n            </div>\r\n        </div>\r\n        <!-- 模式end -->\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport g from \"../../Util/global\";\r\nimport { scale } from \"../../Util/tool\";\r\nimport animate from \"animate.css\";\r\nexport default {\r\n    props: {},\r\n    name: \"BrushTeethModel\",\r\n    data() {\r\n        return {\r\n            boothData: null,\r\n            // 头部组件参数\r\n            selfB: true,\r\n            backC: window.isDark ? '#000' : 'fff',\r\n            headerIcon: false,\r\n            // 模式数组\r\n            modules: [\r\n                {\r\n                    name: this.$t(\"BrushTeethModel.model.level1\"),\r\n                    check: false,\r\n                    gear: 0,\r\n                },\r\n                {\r\n                    name: this.$t(\"BrushTeethModel.model.level2\"),\r\n                    check: false,\r\n                    gear: 2,\r\n                },\r\n            ],\r\n            // 档位锁定\r\n            isLock: false,\r\n            flash: false,\r\n        };\r\n    },\r\n    watch: {\r\n        modules: {\r\n            deep: true,\r\n            handler: (n, o) => { },\r\n        },\r\n        bleConnected(n, o) { },\r\n        binData(n, o) {\r\n            this.machineContorling = true;\r\n            if (n.substr(0, 6) != o.substr(0, 6)) {\r\n                this.initData(this.binData)\r\n            }\r\n        }\r\n    },\r\n    computed: {\r\n        bleConnected() {\r\n            return this.$store.state.BleStatus.bleConnected;\r\n        },\r\n        binData() {\r\n            return this.$store.state.BleStatus.binData;\r\n        }\r\n    },\r\n    created() {\r\n    },\r\n    mounted() {\r\n        this.initData(this.binData)\r\n    },\r\n    methods: {\r\n        /**\r\n         * @description: 初始化页面 data: 56 04 02 2f 35\r\n         * @param {*}\r\n         * @return {*}\r\n         */\r\n        initData(data) {\r\n            let modedata = data.substr(4, 2); // 16进制\r\n            modedata = scale.hextoBin(modedata); // 转二进制\r\n            let openStatue = modedata.substr(0, 2); // 刷牙模式\r\n            if (parseInt(openStatue) === 0) {\r\n                this.modules[0].check = true;\r\n                this.modules[1].check = false;\r\n            } else {\r\n                this.modules[0].check = false;\r\n                this.modules[1].check = true;\r\n            }\r\n            this.isLock = modedata.substr(2, 1) === \"0\" ? false : true;\r\n        },\r\n\r\n        /**\r\n         * @description: Round组件的派发动作\r\n         * @param {type}\r\n         * @return {type}\r\n         */\r\n        getRoundStatus() {\r\n            g.removeVideoPlay()\r\n            let arg = arguments;\r\n            if (!arg[1][0]) {\r\n                return true;\r\n            }\r\n            this.modules.forEach((item, index) => {\r\n                index == arg[0] ? (item.check = true) : (item.check = false);\r\n                if (index == arg[0]) {\r\n                    let newBinCode = item.gear == 0 ? \"00\" : \"01\";\r\n                    let srcData = scale.hextoBin(this.binData.substr(4, 2));\r\n                    let data = scale.checkData(0, newBinCode, srcData);\r\n                    g.setQueue(data);\r\n                }\r\n            });\r\n            setTimeout(() => {\r\n                g.onVideoPlay()\r\n            }, 1500);\r\n        },\r\n\r\n        /**\r\n         * @description: 点击锁定按钮\r\n         * @param {*}\r\n         * @return {*}\r\n         */\r\n        afterChange(val) {\r\n            g.removeVideoPlay()\r\n            this.t = new Date().getTime()\r\n            let _ = this;\r\n            this.isLock = val;\r\n            let lock = \"1\"; // 1 表示锁定\r\n            lock = this.isLock ? \"1\" : \"0\";\r\n            let srcData = scale.hextoBin(this.binData.substr(4, 2)); // byte2 01010110 01111110\r\n            let data = scale.checkData(2, lock, srcData);\r\n            g.setQueue(data)\r\n            setTimeout(() => {\r\n                g.onVideoPlay()\r\n            }, 1500);\r\n        },\r\n    },\r\n};\r\n</script>\r\n\r\n\r\n<style lang='less' scoped>\r\n.brushTeethModel {\r\n    height: 100%;\r\n    width: 100%;\r\n    background-color: #fff;\r\n    display: flex;\r\n    flex-direction: column;\r\n    position: relative;\r\n    .modules {\r\n        padding: 0 16px;\r\n        .modules_inner {\r\n            position: relative;\r\n            background-color: #fff;\r\n            height: 48px;\r\n            width: 100%;\r\n            //margin: 0 0 8px 0;\r\n            font-size: 16px;\r\n            color: rgba(0, 0, 0, 0.9);\r\n            border-bottom: 0.00694rem solid rgba(0, 0, 0, 0.2);\r\n            .VSwitch {\r\n                position: absolute;\r\n                right: 0px;\r\n            }\r\n            .module_round {\r\n                display: inline-block;\r\n                width: 24px;\r\n                height: 24px;\r\n            }\r\n            .module_name {\r\n                line-height: 20px;\r\n            }\r\n            .lockTip {\r\n                display: inline-block;\r\n                width: 100%;\r\n                padding: 0 40px 0 0;\r\n                font-size: 14px;\r\n                color: rgba(0, 0, 0, 0.6);\r\n                margin: 6px 0 0 0;\r\n            }\r\n        }\r\n        .noBorder {\r\n            height: 64px;\r\n            border: 0;\r\n        }\r\n    }\r\n    .module_noclick {\r\n        pointer-events: none;\r\n    }\r\n}\r\n\r\n.flex {\r\n    display: flex;\r\n    flex-direction: row;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n}\r\n.flex_c {\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: space-between;\r\n}\r\n\r\n.theme-dark {\r\n    .brushTeethModel {\r\n        background-color: #000;\r\n        .modules {\r\n            .modules_inner {\r\n                background-color: #000;\r\n                color: rgba(255, 255, 255, 0.86);\r\n                border-bottom: 0.00694rem solid rgba(255, 255, 255, 0.2);\r\n                .lockTip {\r\n                    color: rgba(255, 255, 255, 0.6);\r\n                }\r\n            }\r\n            .noBorder {\r\n                border: 0;\r\n            }\r\n        }\r\n    }\r\n}\r\n</style>"]}]}