{"remainingRequest":"E:\\OMROM\\aiweijie\\aiweijie\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\OMROM\\aiweijie\\aiweijie\\src\\Pages\\RemainTime\\RemainTime.vue?vue&type=style&index=0&id=1f6eb45b&lang=less&scoped=true&","dependencies":[{"path":"E:\\OMROM\\aiweijie\\aiweijie\\src\\Pages\\RemainTime\\RemainTime.vue","mtime":1616635982883},{"path":"E:\\OMROM\\aiweijie\\aiweijie\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\OMROM\\aiweijie\\aiweijie\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"E:\\OMROM\\aiweijie\\aiweijie\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"E:\\OMROM\\aiweijie\\aiweijie\\node_modules\\less-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\OMROM\\aiweijie\\aiweijie\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\OMROM\\aiweijie\\aiweijie\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKDQoucmVtYWluVGltZSB7DQogICAgd2lkdGg6IDEwMCU7DQogICAgaGVpZ2h0OiAxMDAlOw0KICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsNCiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmOw0KICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsNCiAgICAubWFpbiB7DQogICAgICAgIHdpZHRoOiAxMDAlOw0KICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmOw0KICAgICAgICBmbGV4OiAxOw0KICAgICAgICAucHJvZ3Jlc3Mgew0KICAgICAgICAgICAgbWFyZ2luOiAyNHB4IDAgMCAwOw0KICAgICAgICAgICAgd2lkdGg6IDEwMCU7DQogICAgICAgICAgICBoZWlnaHQ6IDI0MHB4Ow0KICAgICAgICAgICAgLy9oZWlnaHQ6IDE5NHB4Ow0KICAgICAgICAgICAgLy9ib3JkZXI6IDFweCBzb2xpZCByZWQ7DQogICAgICAgICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94Ow0KICAgICAgICB9DQogICAgICAgIC5kb2N0b3JXb3JkIHsNCiAgICAgICAgICAgIC8vIGJvcmRlcjogMXB4IHNvbGlkIHJlZDsNCiAgICAgICAgICAgIHdpZHRoOiAxMDAlOw0KICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyOw0KICAgICAgICAgICAgZm9udC1zaXplOiAxNHB4Ow0KICAgICAgICAgICAgY29sb3I6IHJnYmEoMCwgMCwgMCwgMC45KTsNCiAgICAgICAgICAgIG1hcmdpbi10b3A6IDMycHg7DQogICAgICAgIH0NCiAgICAgICAgLmZvb3RlciB7DQogICAgICAgICAgICB3aWR0aDogMTAwJTsNCiAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsNCiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmY7DQogICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47DQogICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyOw0KICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlOw0KICAgICAgICAgICAgYm90dG9tOiAyNHB4Ow0KICAgICAgICAgICAgLmJ0biB7DQogICAgICAgICAgICAgICAgaGVpZ2h0OiAzNnB4Ow0KICAgICAgICAgICAgICAgIHdpZHRoOiA1MCU7DQogICAgICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyOw0KICAgICAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDE4cHg7DQogICAgICAgICAgICAgICAgYm9yZGVyOiAwOw0KICAgICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMC4wNSk7DQogICAgICAgICAgICAgICAgb3V0bGluZTogbm9uZTsNCiAgICAgICAgICAgICAgICBmb250LXNpemU6IDE2cHg7DQogICAgICAgICAgICAgICAgY29sb3I6ICMwMDdkZmY7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICB9DQp9DQpidXR0b24gOmZvY3VzIHsNCiAgICBvdXRsaW5lOiAwOw0KfQ0KLmZsZXhSIHsNCiAgICBkaXNwbGF5OiBmbGV4Ow0KICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7DQogICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOw0KICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7DQp9DQouZmxleEMgew0KICAgIGRpc3BsYXk6IGZsZXg7DQogICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsNCn0NCi5mbGV4Q29udGVudCB7DQogICAgZGlzcGxheTogZmxleDsNCiAgICBhbGlnbi1pdGVtczogY2VudGVyOw0KICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOw0KfQ0KDQoudGhlbWUtZGFyayB7DQogICAgLnJlbWFpblRpbWUgew0KICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDAwOw0KICAgICAgICAubWFpbiB7DQogICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDAwOw0KICAgICAgICAgICAgLnByb2dyZXNzIHsNCiAgICAgICAgICAgICAgICAvL2hlaWdodDogMjIwcHg7DQogICAgICAgICAgICB9DQogICAgICAgICAgICAuZG9jdG9yV29yZCB7DQogICAgICAgICAgICAgICAgY29sb3I6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC44Nik7DQogICAgICAgICAgICB9DQogICAgICAgICAgICAuZm9vdGVyIHsNCiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDAwOw0KICAgICAgICAgICAgICAgIC5idG4gew0KICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMSk7DQogICAgICAgICAgICAgICAgICAgIGNvbG9yOiAjM2Y5N2U5Ow0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0NCn0NCg=="},{"version":3,"sources":["RemainTime.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"RemainTime.vue","sourceRoot":"src/Pages/RemainTime","sourcesContent":["<!--\r\n * @Description: 刷头剩余页面\r\n * @version: \r\n * @Author: HeZhen\r\n * @Date: 2020-10-23 14:40:40\r\n * @LastEditors: HeZhen\r\n * @LastEditTime: 2021-02-22 10:56:13\r\n-->\r\n<!--  -->\r\n<template>\r\n    <div class=\"remainTime flexC\">\r\n        <!-- 头部start -->\r\n        <div style=\"height:'80px'\">\r\n            <Header :isRight=\"header_rightIcon\" :selfB='selfB' :backC='backC'>\r\n                <span slot=\"headerTitle\">{{$t('RemainTime.header')}}</span>\r\n            </Header>\r\n        </div>\r\n        <!-- 头部end -->\r\n        <div class=\"main flexC\">\r\n            <!-- <div class=\"predict\">预计可使用18天</div> -->\r\n            <div v-if=\"show_realValue\" class=\"progress flexC\">\r\n                <Cprogress :realValue=\"realValue\"></Cprogress>\r\n            </div>\r\n            <div v-if=\"show_realValue\" class=\"doctorWord\">\r\n                {{$t(\"RemainTime.doctorWord\")}}\r\n            </div>\r\n            <!-- 刷头start -->\r\n            <!-- <div class=\"dialogContent_out flexR\">\r\n                <div class=\"dialogContent\">\r\n                    \r\n                    <div class=\"itemList\">\r\n                        <div class=\"toothbrushU flexContent\">\r\n                            <div class=\"toothbrushU1\"></div>\r\n                        </div>\r\n                        <div class=\"toothbrushI flexContent\">\r\n                            <div class=\"toothbrushI1\"></div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"itemList brushType\">\r\n                    <div class=\"flexContent toothbrushCommon\">{{$t('index.uBrush')}}</div>\r\n                    <div class=\"flexContent toothbrushCommon\">{{$t('index.miniBrush')}}</div>\r\n                </div>\r\n                    <div class=\"itemList brushType\">\r\n                        <div class=\"clickU flexContent\" v-for=\"(item,index) in modules\" :key=\"index\">\r\n                            <div class=\"rounding\">\r\n                                <Round :status=\"item.check\" @changeStatus=\"getRoundStatus(index,arguments)\"></Round>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div> -->\r\n\r\n            <!-- 刷头start -->\r\n            <div class=\"footer flexC\">\r\n                <button @click=\"resetime\" class='btn'>{{$t('RemainTime.reset')}}</button>\r\n            </div>\r\n        </div>\r\n        <Dialog :visiable=\"dialogVisiable\" @sendData='getDialogData'></Dialog>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport g from \"../../Util/global\";\r\nimport { scale } from \"../../Util/tool\";\r\nimport reportData from \"../../Util/reportData\";\r\nimport Dialog from './ResetDialog.vue'\r\nexport default {\r\n    name: \"RemainTime\",\r\n    data() {\r\n        return {\r\n            dialogVisiable: false,\r\n            // 头部右侧图标\r\n            header_rightIcon: false,\r\n            selfB: true,\r\n            backC: window.isDark ? '#000' : '#fff',\r\n            // 实际天数\r\n            realValue: 1,\r\n            // 模式选择\r\n            brushHeader: \"0\",\r\n            show_realValue: false\r\n        };\r\n    },\r\n\r\n    components: {\r\n        Dialog\r\n    },\r\n\r\n    computed: {\r\n        bleConnected() {\r\n            return this.$store.state.BleStatus.bleConnected;\r\n        },\r\n        binData() {\r\n            return this.$store.state.BleStatus.binData;\r\n        },\r\n        logData() {\r\n            return this.$store.state.BleStatus.logData;\r\n        },\r\n    },\r\n    watch: {\r\n        dialogVisiable(n, o) { },\r\n        bleConnected(n, o) { },\r\n        binData(n, o) {\r\n            this.binData = n;\r\n            this.judgeBoothHeader()\r\n        },\r\n    },\r\n    created() {\r\n        this.judgeBoothHeader()\r\n        this.getCloudData(this.brushHeader)\r\n    },\r\n    mounted() {\r\n    },\r\n\r\n    methods: {\r\n        /**\r\n         * @description: 初始化判断当前刷头模式\r\n         * @param {*}\r\n         * @return {*}\r\n         */\r\n        judgeBoothHeader(headerMode = null) {\r\n            this.brushHeader = scale.hextoBin(this.binData.substr(4, 2)).substr(5, 1);\r\n        },\r\n\r\n        /**\r\n         * @description: 重置时间按钮\r\n         * @param {type}\r\n         * @return {type}\r\n         */\r\n        resetime() {\r\n            this.dialogVisiable = true;\r\n        },\r\n\r\n        /**\r\n         * @description: 请求云端数据\r\n         * @param {*}\r\n         * @return {*}\r\n         */\r\n        getCloudData(mode) {\r\n            let resCallback = (res) => {\r\n                this.countDays(res, mode)\r\n            }\r\n            reportData.getHistoryLog(resCallback)\r\n        },\r\n\r\n        /**\r\n         * @description: 计算对应天数\r\n         * @param {*}\r\n         * @return {*}\r\n         */\r\n        countDays(arr, typeHeader = '0') {\r\n            let times = 0;\r\n            arr.forEach((item) => {\r\n                item[0] === typeHeader ? times++ : '';\r\n            })\r\n            let rest = (90 - (times / 2)) < 0 ? 0 : (90 - (times / 2));\r\n            this.realValue = Math.floor(rest);\r\n            this.show_realValue = true;\r\n        },\r\n\r\n        /**\r\n         * @description: 弹窗派发事件\r\n         * @param {*}\r\n         * @return {*}\r\n         */\r\n        getDialogData(val) {\r\n            this.dialogVisiable = val.componentsVisiable;\r\n            if (val.value) {\r\n                reportData.resize(new Date().getTime() + 1000)\r\n                this.realValue = 90;\r\n                setTimeout(() => {\r\n                    this.getCloudData(this.brushHeader)\r\n                }, 1000);\r\n            }\r\n        }\r\n    },\r\n};\r\n</script>\r\n\r\n\r\n\r\n<style lang='less' scoped>\r\n.remainTime {\r\n    width: 100%;\r\n    height: 100%;\r\n    position: relative;\r\n    background-color: #fff;\r\n    position: relative;\r\n    .main {\r\n        width: 100%;\r\n        background-color: #fff;\r\n        flex: 1;\r\n        .progress {\r\n            margin: 24px 0 0 0;\r\n            width: 100%;\r\n            height: 240px;\r\n            //height: 194px;\r\n            //border: 1px solid red;\r\n            box-sizing: border-box;\r\n        }\r\n        .doctorWord {\r\n            // border: 1px solid red;\r\n            width: 100%;\r\n            text-align: center;\r\n            font-size: 14px;\r\n            color: rgba(0, 0, 0, 0.9);\r\n            margin-top: 32px;\r\n        }\r\n        .footer {\r\n            width: 100%;\r\n            text-align: center;\r\n            background-color: #fff;\r\n            justify-content: space-between;\r\n            align-items: center;\r\n            position: absolute;\r\n            bottom: 24px;\r\n            .btn {\r\n                height: 36px;\r\n                width: 50%;\r\n                text-align: center;\r\n                border-radius: 18px;\r\n                border: 0;\r\n                background-color: rgba(0, 0, 0, 0.05);\r\n                outline: none;\r\n                font-size: 16px;\r\n                color: #007dff;\r\n            }\r\n        }\r\n    }\r\n}\r\nbutton :focus {\r\n    outline: 0;\r\n}\r\n.flexR {\r\n    display: flex;\r\n    flex-direction: row;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n}\r\n.flexC {\r\n    display: flex;\r\n    flex-direction: column;\r\n}\r\n.flexContent {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n}\r\n\r\n.theme-dark {\r\n    .remainTime {\r\n        background-color: #000;\r\n        .main {\r\n            background-color: #000;\r\n            .progress {\r\n                //height: 220px;\r\n            }\r\n            .doctorWord {\r\n                color: rgba(255, 255, 255, 0.86);\r\n            }\r\n            .footer {\r\n                background-color: #000;\r\n                .btn {\r\n                    background-color: rgba(255, 255, 255, 0.1);\r\n                    color: #3f97e9;\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n</style>"]}]}