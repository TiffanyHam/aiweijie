{"remainingRequest":"E:\\OMROM\\aiweijie\\aiweijie\\node_modules\\babel-loader\\lib\\index.js!E:\\OMROM\\aiweijie\\aiweijie\\node_modules\\eslint-loader\\index.js??ref--13-0!E:\\OMROM\\aiweijie\\aiweijie\\src\\Util\\hilink.js","dependencies":[{"path":"E:\\OMROM\\aiweijie\\aiweijie\\src\\Util\\hilink.js","mtime":1616635982886},{"path":"E:\\OMROM\\aiweijie\\aiweijie\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\OMROM\\aiweijie\\aiweijie\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\OMROM\\aiweijie\\aiweijie\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZSI7CgovKg0KICogQERlc2NyaXB0aW9uOiB3aW5kb3cuaGlsaW5rIOWvueixoeS4i+eahOWHveaVsOiwg+eUqOaWh+S7tiANCiAqIEB2ZXJzaW9uOiANCiAqIEBBdXRob3I6IEhlWmhlbg0KICogQERhdGU6IDIwMjAtMTEtMDUgMTc6MjM6NDgNCiAqIEBMYXN0RWRpdG9yczogSGVaaGVuDQogKiBATGFzdEVkaXRUaW1lOiAyMDIwLTEyLTI4IDE4OjUzOjMzDQogKi8KaW1wb3J0IGcgZnJvbSAnLi4vVXRpbC9nbG9iYWwnOwovKioNCiAqIEBkZXNjcmlwdGlvbjogaGlsaW5rIOS4i+eahOaOpeWPo+iwg+eUqOWHveaVsA0KICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50TmFtZSDmjqXlj6Plh73mlbDlkI0NCiAqIEBwYXJhbSB7QXJyYXl9IG9wdGlvcG5zIOWPguaVsA0KICogQHJldHVybiB7dHlwZX0gIA0KICovCgpleHBvcnQgdmFyIGNhbGxIaWxpbmtGbiA9IGZ1bmN0aW9uIGNhbGxIaWxpbmtGbihldmVudE5hbWUpIHsKICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogW107CiAgd2luZG93LmhpbGluayAmJiB3aW5kb3cuaGlsaW5rW2V2ZW50TmFtZV0gJiYgd2luZG93LmhpbGlua1tldmVudE5hbWVdLmFwcGx5KHdpbmRvdy5oaWxpbmssIG9wdGlvbnMpOwp9OwovKioNCiAqIEBkZXNjcmlwdGlvbjog5pWw5o2u6Kej5p6QDQogKiBAcGFyYW0ge1N0cmluZ30gcmVzRGF0YSDlkI7nq6/ov5Tlm57mlbDmja4gDQogKiBAcmV0dXJuIHt0eXBlfSANCiAqLwoKZXhwb3J0IHZhciBwcmFzZVJlc3BvbnNlRGF0YSA9IGZ1bmN0aW9uIHByYXNlUmVzcG9uc2VEYXRhKHJlc0RhdGEpIHsKICAvLyDop6PmnpDov5Tlm57nmoTmlbDmja4KICB0cnkgewogICAgcmV0dXJuIEpTT04ucGFyc2UocmVzRGF0YSk7CiAgfSBjYXRjaCAoZXJyb3IpIHsKICAgIHZhciBkYXRhU3RyID0gcmVzRGF0YS5yZXBsYWNlKC86InsvZywgJzp7Jyk7CiAgICBkYXRhU3RyID0gZGF0YVN0ci5yZXBsYWNlKC99IiwvZywgJ30sJyk7CiAgICBkYXRhU3RyID0gZGF0YVN0ci5yZXBsYWNlKC9cXC9nLCAnJyk7CiAgICByZXR1cm4gSlNPTi5wYXJzZShkYXRhU3RyKTsKICB9Cn07Ci8qKg0KICogQGRlc2NyaXB0aW9uOiBoaWxpbmsg5o6l5Y+j5Ye95pWw55qE5Zue6LCD5Ye95pWw5rOo5YaMIOWcqCB3aW5kb3cg5LiLDQogKiBAcGFyYW0ge09iamVjdH0gdCDkuIDoiKzmmK8gdGhpcw0KICogQHBhcmFtIHtBcnJheX0gY2JBcnIg5Zue6LCD5Ye95pWw5ZCN5pWw57uEDQogKiBAcmV0dXJuIHt0eXBlfSANCiAqLwoKZXhwb3J0IHZhciBjcmVhdGVDYiA9IGZ1bmN0aW9uIGNyZWF0ZUNiKHQpIHsKICB2YXIgY2JBcnIgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IFtdOwogIC8vIOWIm+W7uuWbnuiwg+WHveaVsOWIsHdpbmRvd+WvueixoeS4i++8jOWFtuS7lumhtemdouW8leWFpeiwg+eUqOaWueW8j+WmguS4i++8jOmhtemdouS4rW1lbnRob2Rz6ZyA5a2Y5Zyo5pWw57uE5Lit5a+55bqU55qE5Ye95pWwCiAgLy8gY3JlYXRlQ2IodGhpcywgWydyZXN1bHRDYWxsYmFjayddKTsKICB2YXIgaSA9IDAsCiAgICAgIGxlbiA9IGNiQXJyLmxlbmd0aDsKCiAgdmFyIF9sb29wID0gZnVuY3Rpb24gX2xvb3AoKSB7CiAgICB2YXIgY2IgPSBjYkFycltpXTsKCiAgICB3aW5kb3dbY2JdID0gZnVuY3Rpb24gKHJlcykgewogICAgICB0W2NiXSAmJiB0W2NiXShwcmFzZVJlc3BvbnNlRGF0YShyZXMpKTsKICAgIH07CiAgfTsKCiAgZm9yICg7IGkgPCBsZW47IGkrKykgewogICAgX2xvb3AoKTsKICB9Cn07"},{"version":3,"sources":["E:/OMROM/aiweijie/aiweijie/src/Util/hilink.js"],"names":["g","callHilinkFn","eventName","options","window","hilink","apply","praseResponseData","resData","JSON","parse","error","dataStr","replace","createCb","t","cbArr","i","len","length","cb","res"],"mappings":";;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAOA,CAAP,MAAc,gBAAd;AAGA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,IAAMC,YAAY,GAAG,SAAfA,YAAe,CAAUC,SAAV,EAAmC;AAAA,MAAdC,OAAc,uEAAJ,EAAI;AAC3DC,EAAAA,MAAM,CAACC,MAAP,IAAiBD,MAAM,CAACC,MAAP,CAAcH,SAAd,CAAjB,IAA6CE,MAAM,CAACC,MAAP,CAAcH,SAAd,EAAyBI,KAAzB,CAA+BF,MAAM,CAACC,MAAtC,EAA8CF,OAA9C,CAA7C;AACH,CAFM;AAIP;AACA;AACA;AACA;AACA;;AACA,OAAO,IAAMI,iBAAiB,GAAG,SAApBA,iBAAoB,CAAUC,OAAV,EAAmB;AAChD;AACA,MAAI;AACA,WAAOC,IAAI,CAACC,KAAL,CAAWF,OAAX,CAAP;AACH,GAFD,CAEE,OAAOG,KAAP,EAAc;AACZ,QAAIC,OAAO,GAAGJ,OAAO,CAACK,OAAR,CAAgB,MAAhB,EAAwB,IAAxB,CAAd;AACAD,IAAAA,OAAO,GAAGA,OAAO,CAACC,OAAR,CAAgB,MAAhB,EAAwB,IAAxB,CAAV;AACAD,IAAAA,OAAO,GAAGA,OAAO,CAACC,OAAR,CAAgB,KAAhB,EAAuB,EAAvB,CAAV;AACA,WAAOJ,IAAI,CAACC,KAAL,CAAWE,OAAX,CAAP;AACH;AACJ,CAVM;AAYP;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,IAAME,QAAQ,GAAG,SAAXA,QAAW,CAAUC,CAAV,EAAyB;AAAA,MAAZC,KAAY,uEAAJ,EAAI;AAC7C;AACA;AACA,MAAIC,CAAC,GAAG,CAAR;AAAA,MACIC,GAAG,GAAGF,KAAK,CAACG,MADhB;;AAH6C;AAMzC,QAAIC,EAAE,GAAGJ,KAAK,CAACC,CAAD,CAAd;;AACAb,IAAAA,MAAM,CAACgB,EAAD,CAAN,GAAa,UAAUC,GAAV,EAAe;AACxBN,MAAAA,CAAC,CAACK,EAAD,CAAD,IAASL,CAAC,CAACK,EAAD,CAAD,CAAMb,iBAAiB,CAACc,GAAD,CAAvB,CAAT;AACH,KAFD;AAPyC;;AAK7C,SAAOJ,CAAC,GAAGC,GAAX,EAAgBD,CAAC,EAAjB,EAAqB;AAAA;AAKpB;AACJ,CAXM","sourcesContent":["/*\r\n * @Description: window.hilink 对象下的函数调用文件 \r\n * @version: \r\n * @Author: HeZhen\r\n * @Date: 2020-11-05 17:23:48\r\n * @LastEditors: HeZhen\r\n * @LastEditTime: 2020-12-28 18:53:33\r\n */\r\nimport g from '../Util/global'\r\n\r\n\r\n/**\r\n * @description: hilink 下的接口调用函数\r\n * @param {String} eventName 接口函数名\r\n * @param {Array} optiopns 参数\r\n * @return {type}  \r\n */\r\nexport const callHilinkFn = function (eventName, options = []) {\r\n    window.hilink && window.hilink[eventName] && window.hilink[eventName].apply(window.hilink, options);\r\n};\r\n\r\n/**\r\n * @description: 数据解析\r\n * @param {String} resData 后端返回数据 \r\n * @return {type} \r\n */\r\nexport const praseResponseData = function (resData) {\r\n    // 解析返回的数据\r\n    try {\r\n        return JSON.parse(resData);\r\n    } catch (error) {\r\n        var dataStr = resData.replace(/:\"{/g, ':{');\r\n        dataStr = dataStr.replace(/}\",/g, '},');\r\n        dataStr = dataStr.replace(/\\\\/g, '');\r\n        return JSON.parse(dataStr);\r\n    }\r\n};\r\n\r\n/**\r\n * @description: hilink 接口函数的回调函数注册 在 window 下\r\n * @param {Object} t 一般是 this\r\n * @param {Array} cbArr 回调函数名数组\r\n * @return {type} \r\n */\r\nexport const createCb = function (t, cbArr = []) {\r\n    // 创建回调函数到window对象下，其他页面引入调用方式如下，页面中menthods需存在数组中对应的函数\r\n    // createCb(this, ['resultCallback']);\r\n    let i = 0,\r\n        len = cbArr.length;\r\n    for (; i < len; i++) {\r\n        let cb = cbArr[i];\r\n        window[cb] = function (res) {\r\n            t[cb] && t[cb](praseResponseData(res));\r\n        };\r\n    }\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"]}]}